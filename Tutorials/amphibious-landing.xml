<?xml version="1.0"?>

<PropertyList>

    <name>Amphibious Landing</name>

    <description>
This tutorial starts from Hilo International Airport, Hawaii (PHNL) and finishes at the seaplane airfield located in Oahu's Keehi Lagoon, Honolulu, Hawaii in clear, still, weather.

By now you should be proficient in the preflight checklist, startup proceedures, determining the appropriate taxing route to the desired runway, take-off, flying a pattern and landing.

You will start linedup on runway 22R, take-off on heading 232, climb at 600 feet per minute leveling off at 1000 ft., turn left to enter the pattern, left again to a landing at water runway 4W at PHNL.
    </description>

    <audio-dir>Tutorials/amphibious</audio-dir>
    <timeofday>morning</timeofday>

    <presets>
        <airport-id>PHNL</airport-id>
        <on-ground>1</on-ground>
        <altitude-ft>-9999</altitude-ft>
        <latitude-deg type="double">21.32982026</latitude-deg>
        <longitude-deg type="double">-157.907044</longitude-deg>
        <heading-deg type="double">232.853</heading-deg>
        <airspeed-kt>0</airspeed-kt>
        <glideslope-deg>0</glideslope-deg>
        <offset-azimuth-deg>0</offset-azimuth-deg>
        <offset-distance-nm>0</offset-distance-nm>
        <airport-requested>true</airport-requested>
        <runway-requested>true</runway-requested>
        <parking-requested>true</parking-requested>
    </presets>


    <step>
        <message>You are linedup ready for take-off</message>
               <set>
            <property>/instrumentation/adf/frequencies/selected-khz</property>
            <value>332</value> <!-- PAHOA NDB -->
        </set>
        <set>
            <property>/environment/weather-scenario</property>
            <value>Fair weather</value>
        </set>
        <set>
            <property>instrumentation/altimeter/setting-inhg</property>
            <value>29.95</value>
        </set>
        <set>
            <property>/sim/model/c172p/brake-parking</property>
            <value>1</value>
        </set>
        <set>
            <property>/controls/switches/master-bat</property>
            <value>true</value>
        </set>
        <set>
            <property>/controls/switches/master-alt</property>
            <value>true</value>
        </set>
        <set>
            <property>/controls/switches/master-avionics</property>
            <value>true</value>
        </set>
        <set>
            <property>/controls/flight/flaps</property>
            <value>0.0</value>
        </set>
        <set>
            <property>/controls/flight/elevator-trim</property>
            <value>-0.17</value>
        </set>
        <set>
            <property>/controls/switches/magnetos</property>
            <value>3</value>
        </set>
        <set>
            <property>/controls/engines/current-engine/throttle</property>
            <value>0.2</value>
        </set>
        <set>
            <property>/controls/engines/engine/primer</property>
            <value>4</value>
        </set>
        <set>
            <property>/controls/lighting/taxi-light</property>
            <value>false</value>
        </set>
        <set>
            <property>/controls/lighting/landing-lights</property>
            <value>false</value>
        </set>
        <set>
            <property>/controls/anti-ice/pitot-heat</property>
            <value>false</value>
        </set>
        <set>
            <property>/controls/lighting/nav-lights</property>
            <value>false</value>
        </set>
        <set>
            <property>/controls/lighting/beacon</property>
            <value>false</value>
        </set>
        <set>
            <property>/controls/lighting/strobe</property>
            <value>false</value>
        </set>
        <set>
            <property>/controls/lighting/instruments-norm</property>
            <value>0</value>
        </set>
        <set>
            <property>/sim/model/door-positions/baggageDoor/position-norm</property>
            <value>0</value>
        </set>
        <set>
            <property>/sim/model/door-positions/leftDoor/position-norm</property>
            <value>0</value>
        </set>
        <set>
            <property>/sim/model/door-positions/rightDoor/position-norm</property>
            <value>0</value>
        </set>
        <set>
            <property>/sim/model/c172p/securing/chock</property>
            <value>false</value>
        </set>
        <set>
            <property>/sim/model/c172p/securing/tiedownL-visible</property>
            <value>false</value>
        </set>
        <set>
            <property>/sim/model/c172p/securing/tiedownR-visible</property>
            <value>false</value>
        </set>
        <set>
            <property>/sim/model/c172p/securing/tiedownT-visible</property>
            <value>false</value>
        </set>
        <set>
            <property>/sim/model/c172p/securing/pitot-cover-visible</property>
            <value>false</value>
        </set>
        <set>
            <property>sim/model/c172p/engine_flag_0</property>
            <value>0</value>
        </set>
        <set>
            <property>sim/model/c172p/engine_flag_1</property>
            <value>1</value>
        </set>
        <set>
            <property>/controls/engines/active-engine</property>
            <value>1</value>
        </set>
        <set>
            <property>sim/model/c172p/bushkit_flag_0</property>
            <value>0</value>
        </set>
        <set>
            <property>sim/model/c172p/bushkit_flag_1</property>
            <value>0</value>
        </set>
        <set>
            <property>sim/model/c172p/bushkit_flag_2</property>
            <value>0</value>
        </set>
        <set>
            <property>sim/model/c172p/bushkit_flag_3</property>
            <value>1</value>
        </set>
        <set>
            <property>sim/model/c172p/bushkit_flag_4</property>
            <value>0</value>
        </set>
        <set>
            <property>fdm/jsbsim/bushkit</property>
            <value>4</value>
        </set>
        <set>
            <property>/sim/model/c172p/cockpit/control-lock-placed</property>
            <value>false</value>
        </set>
        <set>
            <property>/sim/model/c172p/cockpit/control-lock-visible</property>
            <value>false</value>
        </set>
        <set>
            <property>/controls/switches/master-gear</property>
            <value>true</value>
        </set>
        <nasal>
            <script>
                setprop("/controls/engines/current-engine/mixture", 1.0);
                setprop("/controls/switches/starter", 1);
            </script>
        </nasal>
        <wait>15</wait>
    </step>

    <step>
        <message>Release the parking brakes and take-off</message>
        <set>
            <property>/controls/switches/starter</property>
            <value>false</value>
        </set>

        <error>
            <message>Release the parking brake using Shift B</message>
            <condition>
                <equals>
                    <property>/sim/model/c172p/brake-parking</property>
                    <value>1</value>
                </equals>
            </condition>
        </error>
    </step>

    <step>
        <message>Takeoff course of 232, smoothly apply full power, control direction using rudder.</message>

        <error>
            <message>Your gear must be down to take off.</message>
            <condition>
                <equals>
                    <property>/controls/gear/gear-down</property>
                    <value>0</value>
                </equals>
            </condition>
        </error>
        <error>
            <message>Apply full throttle for take-off.</message>
            <condition>
                <less-than>
                    <property>/controls/engines/current-engine/throttle</property>
                    <value>0.95</value>
                </less-than>
            </condition>
        </error>

        <exit>
            <condition>
                <greater-than>
                    <property>/velocities/airspeed-kt</property>
                    <value>5.0</value>
                </greater-than>
            </condition>
        </exit>
    </step>

    <step>
        <message>Let the aircraft lift off at 65 knots, climb straight out on heading 232, 600 feet per minute.</message>

        <exit>
            <condition>
                <and>
                    <greater-than>
                        <property>/instrumentation/vertical-speed-indicator/indicated-speed-fpm</property>
                        <value>300</value>
                    </greater-than>
                    <less-than>
                        <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                        <value>247</value>
                    </less-than>
                    <greater-than>
                        <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                        <value>207</value>
                    </greater-than>
                </and>
            </condition>
        </exit>
    </step>

    <step>
        <message>Continue your climb on heading 232 at 600 feet per minute to 1000 feet.</message>

        <error>
            <message>You are heading too far left, turn right slightly to heading 232.</message>
            <condition>
                <less-than>
                    <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                    <value>207</value>
                </less-than>
            </condition>
        </error>
        <error>
            <message>You are heading too far right, turn left slightly to heading 232.</message>
            <condition>
                <greater-than>
                    <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                    <value>247</value>
                </greater-than>
            </condition>
        </error>
        <error>
            <message>Raise your landing gear now.</message>
            <condition>
                <equals>
                    <property>/controls/gear/gear-down</property>
                    <value>1</value>
                </equals>
            </condition>
        </error>

        <exit>
            <condition>
                <and>
                    <greater-than>
                        <property>/instrumentation/altimeter/indicated-altitude-ft</property>
                        <value>900</value>
                    </greater-than>
                    <less-than>
                        <property>/instrumentation/altimeter/indicated-altitude-ft</property>
                        <value>1100</value>
                    </less-than>
                    <less-than>
                        <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                        <value>247</value>
                    </less-than>
                    <greater-than>
                        <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                        <value>207</value>
                    </greater-than>
                    <equals>
                        <property>/controls/gear/gear-down</property>
                        <value>0</value>
                    </equals>
                </and>
            </condition>
        </exit>
    </step>

    <step>
        <message>Level off between 900 and 1100 feet.</message>

        <error>
            <message>You are too low</message>
            <condition>
                <less-than>
                    <property>/instrumentation/altimeter/indicated-altitude-ft</property>
                    <value>900</value>
                </less-than>
            </condition>
        </error>
        <error>
            <message>You are too high</message>
            <condition>
                <greater-than>
                    <property>/instrumentation/altimeter/indicated-altitude-ft</property>
                    <value>1100</value>
                </greater-than>
            </condition>
        </error>
        <error>
            <message>You are heading too far left, turn right slightly to heading 232.</message>
            <condition>
                <less-than>
                    <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                    <value>207</value>
                </less-than>
            </condition>
        </error>
        <error>
            <message>You are heading too far right, turn left slightly to heading 232.</message>
            <condition>
                <greater-than>
                    <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                    <value>247</value>
                </greater-than>
            </condition>
        </error>

        <exit>
            <condition>
                <and>
                    <greater-than>
                        <property>/instrumentation/altimeter/indicated-altitude-ft</property>
                        <value>900</value>
                    </greater-than>
                    <less-than>
                        <property>/instrumentation/altimeter/indicated-altitude-ft</property>
                        <value>1100</value>
                    </less-than>
                    <less-than>
                        <property>instrumentation/vertical-speed-indicator/indicated-speed-fpm</property>
                        <value>300</value>
                    </less-than>
                    <greater-than>
                        <property>instrumentation/vertical-speed-indicator/indicated-speed-fpm</property>
                        <value>-300</value>
                    </greater-than>
                    <greater-than>
                        <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                        <value>207</value>
                    </greater-than>
                    <less-than>
                        <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                        <value>247</value>
                    </less-than>
                </and>
            </condition>
        </exit>
    </step>

    <step>
        <message>Turn left cross leg heading 145, enter pattern to land on runway 22R at PHNL.</message>

        <wait>15</wait>

        <error>
            <message>You're too far right. Turn left to heading 145.</message>
            <condition>
                <greater-than>
                    <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                    <value>160</value>
                </greater-than>
            </condition>
        </error>
        <error>
            <message>You're too far left. Turn right to heading 145.</message>
            <condition>
                <less-than>
                    <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                    <value>130</value>
                </less-than>
            </condition>
        </error>
        <error>
            <message>You are too high. Pattern altitude is 1000 feet.</message>
            <condition>
                <greater-than>
                    <property>/instrumentation/altimeter/indicated-altitude-ft</property>
                    <value>1100</value>
                </greater-than>
            </condition>
        </error>
        <error>
            <message>You are too low. Pattern altitude is 1000 feet.</message>
            <condition>
                <less-than>
                    <property>/instrumentation/altimeter/indicated-altitude-ft</property>
                    <value>900</value>
                </less-than>
            </condition>
        </error>

        <exit>
            <condition>
                <and>
                    <greater-than>
                        <property>/instrumentation/altimeter/indicated-altitude-ft</property>
                        <value>900</value>
                    </greater-than>
                    <less-than>
                        <property>/instrumentation/altimeter/indicated-altitude-ft</property>
                        <value>1100</value>
                    </less-than>
                    <greater-than>
                        <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                        <value>130</value>
                    </greater-than>
                    <less-than>
                        <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                        <value>160</value>
                    </less-than>
                </and>
            </condition>
        </exit>
    </step>

    <step>
        <message>Continue cross leg heading 145</message>

        <error>
            <message>You're too far right. Turn left to heading 300.</message>
            <condition>
                <greater-than>
                    <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                    <value>160</value>
                </greater-than>
            </condition>
        </error>
        <error>
            <message>You're too far left. Turn right to heading 300.</message>
            <condition>
                <less-than>
                    <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                    <value>130</value>
                </less-than>
            </condition>
        </error>
        <error>
            <message>You are too high. Pattern altitude is 1000 feet.</message>
            <condition>
                <greater-than>
                    <property>/instrumentation/altimeter/indicated-altitude-ft</property>
                    <value>1100</value>
                </greater-than>
            </condition>
        </error>
        <error>
            <message>You are too low. Pattern altitude is 1000 feet.</message>
            <condition>
                <less-than>
                    <property>/instrumentation/altimeter/indicated-altitude-ft</property>
                    <value>900</value>
                </less-than>
            </condition>
        </error>
        <error>
            <message>Check throttle.</message>
            <condition>
                 <greater-than>
                    <property>/controls/engines/current-engine/throttle</property>
                    <value>0.85</value>
                </greater-than>
            </condition>
        </error>

        <exit>
            <condition>
                <greater-than>
                    <property>/position/latitude-deg</property>
                    <value>21.28</value>
                </greater-than>
            </condition>
        </exit>
    </step>

    <step>
        <message>Turn onto final heading 45, line up with the water runway 4W at PHNL in Keehi Lagoon.</message>

        <exit>
            <condition>
                <and>
                    <greater-than>
                        <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                        <value>30</value>
                    </greater-than>
                    <less-than>
                        <property>/instrumentation/heading-indicator/indicated-heading-deg</property>
                        <value>60</value>
                    </less-than>
                </and>
            </condition>
        </exit>
    </step>

    <step>
        <message>Execute power and flap regime for landing.</message>

        <error>
            <message>Check throttle.</message>
            <condition>
                <greater-than>
                    <property>/controls/engines/current-engine/throttle</property>
                    <value>0.85</value>
                </greater-than>
            </condition>
        </error>
        <error>
            <message>Set some flaps.</message>
            <condition>
                <less-than>
                    <property>/controls/flight/flaps</property>
                    <value>0.3</value>
                </less-than>
            </condition>
        </error>

        <exit>
            <condition>
                <and>
                    <less-than>
                        <property>/controls/engines/current-engine/throttle</property>
                        <value>0.9</value>
                    </less-than>
                    <greater-than>
                        <property>/controls/flight/flaps</property>
                        <value>0</value>
                    </greater-than>
                </and>
            </condition>
        </exit>
    </step>

    <step>
        <message>Check gear advisory.</message>

        <error>
            <message>Raise pontoon landing gear.</message>
            <condition>
                <and>
                    <greater-than>
                        <property>/velocities/groundspeed-kt</property>
                        <value>10</value>
                    </greater-than>
                    <less-than>
                       <property>/velocities/groundspeed-kt</property>
                       <value>70</value>
                    </less-than>
                    <equals>
                        <property>/controls/gear/gear-down</property>
                        <value>1</value>
                    </equals>
                </and>
            </condition>
        </error>
        <exit>
            <condition>
                <equals>
                    <property>/controls/gear/gear-down</property>
                    <value>0</value>
                </equals>
            </condition>
        </exit>
    </step>

    <step>
        <message>Execute landing.</message>

        <error>
            <message>Gently touch down in the water.</message>
            <condition>
                <equals>
                    <property>/fdm/jsbsim/hydro/active-norm</property>
                    <value>0</value>
                </equals>
            </condition>
        </error>

        <exit>
            <condition>
                <less-than>
                    <property>/velocities/airspeed-kt</property>
                    <value>15.0</value>
                </less-than>
            </condition>
        </exit>
    </step>

    <step>
        <message>Congratulations on successfully executing a ground take off, following a pattern to a water landing with the amphibious varient.</message>
    </step>

</PropertyList>
